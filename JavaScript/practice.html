<html>
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
<button onClick="loadData()">Dynamically Load</button>
<div id="outputArea"></div>
<script>
function loadData() {
    console.log("loadData handler called")
    var outputArea = document.getElementById("outputArea");
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.readyState ==  XMLHttpRequest.DONE && this.status == 200) {
            output = "<div class='container'>\n";
            output += "<table class='table table-bordered table-striped table-hover'>\n"
            output += "<thead><tr><th>First</th><th>Last</th><th>Salary</th></tr><thead><tbody>\n"
            var lines = this.responseText.split('\n');
            for (var idx = 0; idx<lines.length; idx++) {
                var line = lines[idx];
                var cols = line.split(",");
                if (cols.length === 3) {
                    var fname = cols[0];
                    var lname = cols[1];
                    var sal = cols[2];
                    output += "<tr><td>"+fname+"</td><td>"+lname+"</td><td>"+sal+"</td></tr>\n";

                }
                console.log(idx + ":" + lines[idx])
            }
            output += "</tbody></table></div>\n"
            //outputArea.innerHTML = this.responseText;
            outputArea.innerHTML = output;
        }
    };
    xhttp.open("GET","data.csv", true);
    xhttp.send();
}
</script>
</body>
</html>
</head>
<body>
